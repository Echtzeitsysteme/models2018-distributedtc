# Supplementary Material

This repository contains supplementary material for the paper 'Toward model-based correct-by-construction development of
distributed topology control algorithms'.

The repository contains several experimental tools and documentation.

## Tool
The folder *./src/org.cobolt.tccpa* contains an Eclipse project written in Java that provide the following components.

1. Experimental Henshin rules (Package: *org.cobolt.tccpa.rules*)
   * Diagram file: tccpa.henshin_diagram
   * JUnit test runner: TopologyControlRuleTests
   * The required model is generated by invoking the main method in TopologyControlRuleTests (requires eMoflon Core)
       * Figure: model/topology-input-code.{png,pptx}
       * Model: output/topology-input-code.xmi
2. Runner for Henshin CPA analysis (Package: *org.cobolt.tccpa.interactionanalysis*)
   * Runner for CPA within one JVM: TopologyControlCriticalPairAnalysisMain
       * Parameters: [left rule name] [right rule name] [analysis goal (CONFLICT,DEPENDENCY)]
   * Runner for a dedicated JVM for each rule pair and analysis goal: TopologyControlExecutorMain
3. Transformation of Henshin output to CSV-based interaction table (Package: *org.cobolt.tccpa.henshintocsv*)
   * Runner: HenshinToCsvConverterMain
       * Parameters: [root of a Henshin results folder]
4. Interaction sequence generator (Package: *org.cobolt.tccpa.stabilizationanalysis*)
   * Runner for stabilization analysis: StabilizationAnalysisMain
       * Parameters: [CSV interactions file 1] [CSV interactions file 2] ...
  
Setup instructions:

1. **Install Eclipse with Modeling Components** (see https://www.eclipse.org/downloads/eclipse-packages/)
   * If necessary, install m2e - Maven for Eclipse Integration
2. **Install Henshin SDK** 1.4.0.201611301251 (or similar) (see also http://www.eclipse.org/henshin/)
3. Open a fresh **Eclipse workspace**
3. **Import** the project located at *./src/org.cobolt.tccpa*
4. Optional: **eMoflon Core** (for regenerating the test models)
   * See also https://github.com/eMoflon/emoflon-core/blob/master/README.md#how-to-install
  
## Documents
The folder *./doc/* contains documentation related to the paper.

1. Interaction lists *./doc/interactionAnalysisResults*
   * List of all interactions before and after the refinement discussed in the paper as CSV data.
   * CSV format:
       * Column ```lhsRule```: name of the left-hand-side rule of the interaction
       * Column ```rhsRule```: name of the right-hand-side rule of the interaction
       * Column ```interaction```: shorthand notation for the identified interaction (c: conflict, d: dependency, r:remote, l:local, m:same-match)
       * Column ```reason```: human-readable reason for the interaction
       * Comment lines start with ```#```
       * Field separator: ```;```
    
2. Extended version of the paper *./doc/DistributedCorrectTopologyControlLongVersion.pdf*
   * Contains specification artifacts that are omitted in the paper for space reasons
   * Additions:
       * Rules and context event handlers for link addition and link weight modification
       * Illustration of second stabilization-preventing example
    
3. Result of Henshin CPA run *./doc/henshinResults*
   * Contains results from running Henshin CPA within on JVM, but with multiple restarts due to heap overflow/memory leaks
   * Only conflicts are contained due to excessive runtime, as reported in the paper.
   * Runtimes per rule pair are documented in the files *runtimeStatistics.{csv,xslx}* .
   * The computed interactions are contained in the Eclipse project under *resources* .
